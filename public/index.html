<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nulls Brawl Esport - Top 50 Ranking</title>
  <meta name="description" content="Classement officiel Null's Brawl Esport. DÃ©couvrez le Top 50 des meilleurs joueurs avec leur MMR et Tier.">
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .glass-effect {
      backdrop-filter: blur(10px);
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
    .avatar-img {
      width: 48px;
      height: 48px;
      border-radius: 50%;
      object-fit: cover;
      border: 3px solid rgba(255, 255, 255, 0.3);
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
    }
    @media (max-width: 640px) {
      .avatar-img {
        width: 40px;
        height: 40px;
      }
    }
  </style>
</head>
<body>
  <div id="root"></div>
  
  <script type="text/babel">
    const { useState } = React;

    // DonnÃ©es des joueurs avec IDs Discord
    const players = [
      { tier: 'S', rank: 1, name: 'Bastien', score: 2331, discordId: null },
      { tier: 'A', rank: 2, name: 'Skusku', score: 2150, discordId: null },
      { tier: 'A', rank: 3, name: 'Prissme', score: 2146, discordId: '691351470272020501' },
      { tier: 'A', rank: 4, name: 'Shido', score: 2134, discordId: null },
      { tier: 'B', rank: 5, name: 'Mxgic', score: 2108, discordId: null },
      { tier: 'B', rank: 6, name: 'Fernmtzzz', score: 2032, discordId: null },
      { tier: 'B', rank: 7, name: 'Sparky', score: 1964, discordId: null },
      { tier: 'B', rank: 8, name: 'Levy', score: 1935, discordId: null },
      { tier: 'B', rank: 9, name: 'Achraff', score: 1900, discordId: null },
      { tier: 'B', rank: 10, name: 'Killer', score: 1825, discordId: null },
      { tier: 'C', rank: 11, name: 'Naboo', score: 1818, discordId: null },
      { tier: 'C', rank: 12, name: 'Saladeee', score: 1806, discordId: null },
      { tier: 'C', rank: 13, name: 'Marlon', score: 1800, discordId: null },
      { tier: 'C', rank: 14, name: 'Serpent', score: 1798, discordId: null },
      { tier: 'C', rank: 15, name: 'Hutao', score: 1778, discordId: null },
      { tier: 'C', rank: 16, name: 'Giuk', score: 1775, discordId: null },
      { tier: 'C', rank: 17, name: 'Maxi', score: 1750, discordId: null },
      { tier: 'C', rank: 18, name: 'Dodo', score: 1725, discordId: null },
      { tier: 'C', rank: 19, name: 'Eren', score: 1716, discordId: null },
      { tier: 'C', rank: 20, name: 'Kazuhaa', score: 1657, discordId: null },
      { tier: 'D', rank: 21, name: 'Rujo', score: 1651, discordId: null },
      { tier: 'D', rank: 22, name: 'Fortissaxx', score: 1650, discordId: null },
      { tier: 'D', rank: 23, name: 'Wished', score: 1600, discordId: null },
      { tier: 'D', rank: 24, name: 'Mamba', score: 1600, discordId: null },
      { tier: 'D', rank: 25, name: 'Mehdi', score: 1579, discordId: null },
      { tier: 'D', rank: 26, name: 'MomiJn', score: 1577, discordId: null },
      { tier: 'D', rank: 27, name: 'Berk', score: 1569, discordId: null },
      { tier: 'D', rank: 28, name: 'Kawa', score: 1550, discordId: null },
      { tier: 'D', rank: 29, name: 'Sapeur', score: 1526, discordId: null },
      { tier: 'D', rank: 30, name: 'Smooth', score: 1525, discordId: null },
      { tier: 'D', rank: 31, name: 'Razz', score: 1495, discordId: null },
      { tier: 'D', rank: 32, name: 'Dubi', score: 1484, discordId: null },
      { tier: 'D', rank: 33, name: 'Anaray', score: 1484, discordId: null },
      { tier: 'D', rank: 34, name: 'Andre', score: 1447, discordId: null },
      { tier: 'D', rank: 35, name: 'Vortexaaa', score: 1429, discordId: null },
      { tier: 'E', rank: 36, name: 'DayloXx', score: 1406, discordId: null },
      { tier: 'E', rank: 37, name: 'Goshii', score: 1400, discordId: null },
      { tier: 'E', rank: 38, name: 'Heyko', score: 1342, discordId: null },
      { tier: 'E', rank: 39, name: 'Astraaa', score: 1325, discordId: null },
      { tier: 'E', rank: 40, name: 'Ovni', score: 1276, discordId: null },
      { tier: 'E', rank: 41, name: 'Rash', score: 1275, discordId: null },
      { tier: 'E', rank: 42, name: 'Fire', score: 1271, discordId: null },
      { tier: 'E', rank: 43, name: 'Nyxia', score: 1252, discordId: null },
      { tier: 'E', rank: 44, name: 'Spin', score: 1250, discordId: null },
      { tier: 'E', rank: 45, name: 'Tht', score: 1200, discordId: null },
      { tier: 'E', rank: 46, name: 'Drxp', score: 1175, discordId: null },
      { tier: 'E', rank: 47, name: 'Scylla', score: 1125, discordId: null },
      { tier: 'E', rank: 48, name: 'Sank1d', score: 1108, discordId: null },
      { tier: 'E', rank: 49, name: 'Ryokk', score: 1100, discordId: null },
      { tier: 'E', rank: 50, name: 'Akazaaa', score: 1099, discordId: null },
      { tier: 'No-tier', rank: 51, name: 'Fares', score: 1099, discordId: null },
      { tier: 'No-tier', rank: 52, name: 'Melon', score: 1075, discordId: null },
      { tier: 'No-tier', rank: 53, name: 'Zedraxx', score: 1050, discordId: null },
      { tier: 'No-tier', rank: 54, name: 'Aben', score: 1025, discordId: null },
      { tier: 'No-tier', rank: 55, name: 'Skor', score: 1000, discordId: null },
      { tier: 'No-tier', rank: 56, name: 'LoniXx', score: 1000, discordId: null },
      { tier: 'No-tier', rank: 57, name: 'Walid', score: 1000, discordId: null },
      { tier: 'No-tier', rank: 58, name: 'Kyzonn', score: 1000, discordId: null },
      { tier: 'No-tier', rank: 59, name: 'Techwood', score: 987, discordId: null },
    ];

    const recentScrims = [
      { winner: 'Maxi', loser: 'Vortexaaa', score: '3-0' },
      { winner: 'Wished', loser: 'Sapeur', score: '3-0 (FF)' },
      { winner: 'Wished', loser: 'Andre', score: '3-1' },
      { winner: 'Wished', loser: 'Lorex', score: '3-0' },
      { winner: 'Naboo', loser: 'Wished', score: '3-0' },
      { winner: 'Vortexaaa', loser: 'Marlon', score: '3-2' },
      { winner: 'Marlon', loser: 'Wished', score: '3-0' },
      { winner: 'Fire', loser: 'Wished', score: '3-2' },
      { winner: 'Vortexaaa', loser: 'Ovni', score: '3-2' },
      { winner: 'Saladeee', loser: 'Dubi', score: '3-0' },
      { winner: 'Mxgic', loser: 'Kazuhaa', score: '1-0 (FF)' },
      { winner: 'Wished', loser: 'Saladeee', score: '3-1' },
      { winner: 'Sapeur', loser: 'Wished', score: '3-2' },
      { winner: 'Prissme', loser: 'Techwood', score: '2-0' },
      { winner: 'Prissme', loser: 'DayloXx', score: '2-0' },
      { winner: 'Vortexaaa', loser: 'Wished', score: '3-2' },
    ];

    const tierStyles = {
      S: 'bg-gradient-to-r from-yellow-400 via-yellow-300 to-yellow-200',
      A: 'bg-gradient-to-r from-blue-400 via-purple-300 to-indigo-200',
      B: 'bg-gradient-to-r from-orange-600 via-orange-400 to-orange-200',
      C: 'bg-gradient-to-r from-pink-600 via-red-500 to-red-400',
      D: 'bg-gradient-to-r from-blue-400 via-purple-400 to-purple-300',
      E: 'bg-gradient-to-r from-green-700 via-green-500 to-green-300',
      'No-tier': 'bg-gradient-to-r from-gray-600 via-gray-500 to-gray-400',
    };

    const getMedal = (rank) => {
      if (rank === 1) return 'ðŸ¥‡';
      if (rank === 2) return 'ðŸ¥ˆ';
      if (rank === 3) return 'ðŸ¥‰';
      return `#${rank}`;
    };

    const getAvatarUrl = (discordId) => {
      if (!discordId) return 'https://cdn.discordapp.com/embed/avatars/0.png';
      // On essaie d'abord sans spÃ©cifier de hash (Discord renvoie l'avatar actuel)
      return `https://cdn.discordapp.com/avatars/${discordId}.png?size=128`;
    };

    const Avatar = ({ discordId, name }) => {
      const [imgSrc, setImgSrc] = useState(getAvatarUrl(discordId));
      const [hasError, setHasError] = useState(false);

      const handleError = () => {
        if (!hasError) {
          setHasError(true);
          setImgSrc('https://cdn.discordapp.com/embed/avatars/0.png');
        }
      };

      return (
        <img 
          src={imgSrc}
          alt={`Avatar de ${name}`}
          className="avatar-img"
          onError={handleError}
        />
      );
    };

    function DemonList() {
      const [query, setQuery] = useState('');
      const [selectedTier, setSelectedTier] = useState('ALL');
      const [sortBy, setSortBy] = useState('rank');
      const [scrimsOpen, setScrimsOpen] = useState(true);

      const tiers = ['ALL','S','A','B','C','D','E','No-tier'];

      const filtered = () => {
        let list = [...players];
        if (selectedTier !== 'ALL') list = list.filter(p => p.tier === selectedTier);
        if (query.trim() !== '') list = list.filter(p => p.name.toLowerCase().includes(query.toLowerCase()));
        if (sortBy === 'rank') list.sort((a,b)=>a.rank-b.rank);
        if (sortBy === 'score') list.sort((a,b)=>b.score-a.score);
        if (sortBy === 'name') list.sort((a,b)=>a.name.localeCompare(b.name));
        return list;
      };

      const filteredPlayers = filtered();

      return (
        <div className="min-h-screen bg-gradient-to-b from-gray-900 via-gray-800 to-black text-gray-100 p-3 sm:p-6">
          <header className="max-w-5xl mx-auto mb-6 sm:mb-8">
            <div className="text-center mb-4 sm:mb-6">
              <h1 className="text-3xl sm:text-5xl font-extrabold mb-2 bg-clip-text text-transparent bg-gradient-to-r from-yellow-400 via-orange-500 to-red-500">
                Nulls Brawl Esport
              </h1>
              <p className="text-gray-400 text-base sm:text-lg">Top 50 Classement Officiel</p>
            </div>
            
            <div className="glass-effect rounded-xl p-3 sm:p-4 mb-4">
              <div className="flex gap-2 sm:gap-3 flex-wrap justify-center mb-3">
                <a 
                  href="https://discord.gg/prissme" 
                  target="_blank" 
                  rel="noopener noreferrer" 
                  className="px-3 sm:px-4 py-2 bg-indigo-600 rounded-lg hover:bg-indigo-500 transition font-semibold shadow-lg hover:shadow-indigo-500/50 text-sm sm:text-base"
                >
                  Discord
                </a>
                <a 
                  href="https://ko-fi.com/prissme" 
                  target="_blank" 
                  rel="noopener noreferrer" 
                  className="px-3 sm:px-4 py-2 bg-yellow-500 rounded-lg hover:bg-yellow-400 transition font-semibold shadow-lg hover:shadow-yellow-500/50 text-black text-sm sm:text-base"
                >
                  Coaching 5â‚¬
                </a>
              </div>

              <div className="flex flex-col sm:flex-row gap-2 sm:gap-3 mb-3">
                <div className="relative flex-1">
                  <input 
                    placeholder="Rechercher un joueur..." 
                    value={query} 
                    onChange={e => setQuery(e.target.value)} 
                    className="w-full px-3 sm:px-4 py-2 rounded-lg bg-gray-800/50 text-gray-100 border border-gray-700 focus:border-indigo-500 focus:outline-none text-sm sm:text-base"
                  />
                </div>
                <select 
                  value={sortBy} 
                  onChange={e => setSortBy(e.target.value)} 
                  className="px-3 sm:px-4 py-2 rounded-lg bg-gray-800/50 border border-gray-700 focus:border-indigo-500 focus:outline-none text-sm sm:text-base"
                >
                  <option value="rank">Par Rang</option>
                  <option value="score">Par Score</option>
                  <option value="name">Par Pseudo</option>
                </select>
              </div>

              <div className="flex gap-2 flex-wrap justify-center">
                {tiers.map(t => 
                  <button 
                    key={t} 
                    onClick={() => setSelectedTier(t)} 
                    className={`px-3 sm:px-4 py-1.5 sm:py-2 rounded-full text-xs sm:text-sm font-bold transition-all ${
                      selectedTier === t
                        ? 'bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-lg scale-105' 
                        : 'bg-gray-800/50 text-gray-300 hover:bg-gray-700'
                    }`}
                  >
                    {t}
                  </button>
                )}
              </div>
            </div>
          </header>

          <section className="max-w-5xl mx-auto mb-6 sm:mb-8">
            <div className="glass-effect rounded-xl p-4 sm:p-6 shadow-2xl">
              <div 
                className="flex items-center justify-between mb-3 sm:mb-4 cursor-pointer select-none"
                onClick={() => setScrimsOpen(!scrimsOpen)}
              >
                <h2 className="text-2xl sm:text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-indigo-400 to-purple-400">
                  Scrims RÃ©cents
                </h2>
                <button 
                  className="text-2xl sm:text-3xl text-indigo-400 hover:text-indigo-300 transition-all duration-300"
                  style={{ transform: scrimsOpen ? 'rotate(180deg)' : 'rotate(0deg)' }}
                >
                  â–¼
                </button>
              </div>
              {scrimsOpen && (
                <div className="space-y-2 sm:space-y-3">
                  {recentScrims.map((scrim, index) => 
                    <div 
                      key={index} 
                      className="bg-gray-800/50 p-3 sm:p-4 rounded-lg flex flex-col sm:flex-row items-start sm:items-center justify-between border border-gray-700 hover:border-indigo-500 transition gap-2 sm:gap-0"
                    >
                      <div className="flex items-center gap-2 sm:gap-3 flex-wrap text-sm sm:text-base">
                        <span className="text-green-400 font-bold flex items-center gap-1">
                          <span className="text-green-500">W</span>
                          {scrim.winner}
                        </span>
                        <span className="text-gray-500">vs</span>
                        <span className="text-red-400 font-bold flex items-center gap-1">
                          <span className="text-red-500">L</span>
                          {scrim.loser}
                        </span>
                      </div>
                      <span className="px-3 sm:px-4 py-1.5 sm:py-2 bg-gradient-to-r from-indigo-600 to-purple-600 rounded-full font-bold shadow-lg text-sm sm:text-base">
                        {scrim.score}
                      </span>
                    </div>
                  )}
                </div>
              )}
            </div>
          </section>

          <main className="max-w-5xl mx-auto">
            <div className="grid gap-3 sm:gap-4">
              {filteredPlayers.map(player => 
                <div 
                  key={player.rank} 
                  className={`${tierStyles[player.tier]} p-3 sm:p-5 rounded-xl shadow-2xl flex items-center justify-between text-gray-900 font-bold hover:scale-105 transition-transform`}
                >
                  <div className="flex items-center gap-2 sm:gap-4">
                    <span className="text-xl sm:text-3xl font-bold min-w-[50px] sm:min-w-[70px]">
                      {getMedal(player.rank)}
                    </span>
                    <Avatar discordId={player.discordId} name={player.name} />
                    <span className="text-lg sm:text-2xl break-all">{player.name}</span>
                  </div>
                  <div className="flex items-center gap-2 sm:gap-4">
                    <span className="text-base sm:text-xl">{player.score} pts</span>
                    <span className="px-3 sm:px-4 py-1.5 sm:py-2 bg-white bg-opacity-40 rounded-full text-xs sm:text-base whitespace-nowrap">
                      Tier {player.tier}
                    </span>
                  </div>
                </div>
              )}
            </div>
          </main>

          <footer className="max-w-5xl mx-auto mt-8 sm:mt-12 text-center text-gray-400 text-xs sm:text-sm px-3">
            <p>Â© 2025 Null's Brawl Esport â€“ DÃ©veloppÃ© par <span className="text-indigo-400 font-bold">Prissme</span></p>
          </footer>
        </div>
      );
    }

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<DemonList />);
  </script>
</body>
</html>
